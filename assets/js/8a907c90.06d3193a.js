"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[998],{3905:(t,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>m});var r=n(7294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var o=r.createContext({}),s=function(t){var e=r.useContext(o),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},u=function(t){var e=s(t.components);return r.createElement(o.Provider,{value:e},t.children)},p="mdxType",g={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},d=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,c=t.originalType,o=t.parentName,u=l(t,["components","mdxType","originalType","parentName"]),p=s(n),d=a,m=p["".concat(o,".").concat(d)]||p[d]||g[d]||c;return n?r.createElement(m,i(i({ref:e},u),{},{components:n})):r.createElement(m,i({ref:e},u))}));function m(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var c=n.length,i=new Array(c);i[0]=d;var l={};for(var o in e)hasOwnProperty.call(e,o)&&(l[o]=e[o]);l.originalType=t,l[p]="string"==typeof t?t:a,i[1]=l;for(var s=2;s<c;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3514:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>g,frontMatter:()=>c,metadata:()=>l,toc:()=>s});var r=n(7462),a=(n(7294),n(3905));const c={sidebar_position:11},i="V\xf2ng \u0111\u1eddi c\u1ee7a events",l={unversionedId:"nestjs-fundamentals/lifecycle-events",id:"nestjs-fundamentals/lifecycle-events",title:"V\xf2ng \u0111\u1eddi c\u1ee7a events",description:"Lifecycle trong NestJS",source:"@site/docs/nestjs-fundamentals/lifecycle-events.md",sourceDirName:"nestjs-fundamentals",slug:"/nestjs-fundamentals/lifecycle-events",permalink:"/nestjs/nestjs-fundamentals/lifecycle-events",draft:!1,tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"Custom decorator",permalink:"/nestjs/nestjs-fundamentals/custom-decorator"},next:{title:"Lu\u1ed3ng ho\u1ea1t \u0111\u1ed9ng",permalink:"/nestjs/nestjs-fundamentals/activity-stream"}},o={},s=[{value:"Lifecycle trong NestJS",id:"lifecycle-trong-nestjs",level:2},{value:"V\xed d\u1ee5",id:"v\xed-d\u1ee5",level:2}],u={toc:s},p="wrapper";function g(t){let{components:e,...c}=t;return(0,a.kt)(p,(0,r.Z)({},u,c,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"v\xf2ng-\u0111\u1eddi-c\u1ee7a-events"},"V\xf2ng \u0111\u1eddi c\u1ee7a events"),(0,a.kt)("h2",{id:"lifecycle-trong-nestjs"},"Lifecycle trong NestJS"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"NestJS c\u0169ng gi\u1ed1ng c\xe1c \u1ee9ng d\u1ee5ng kh\xe1c, \u0111\u1ec1u c\xf3 v\xf2ng \u0111\u1eddi. NestJS cung c\u1ea5p c\xe1c lifecycle hooks cho ch\xfang ta \u0111i\u1ec1u khi\u1ec3n c\xe1c event trong v\xf2ng \u0111\u1eddi."),(0,a.kt)("li",{parentName:"ul"},"S\u01a1 \u0111\u1ed3 sau \u0111\xe2y m\xf4 t\u1ea3 c\xe1c chu\u1ed7i event quan tr\u1ecdng trong v\xf2ng \u0111\u1eddi c\u1ee7a \u1ee9ng d\u1ee5ng, t\u1eeb khi \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c kh\u1edfi \u0111\u1ed9ng cho \u0111\u1ebfn khi \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c ng\u1eaft."),(0,a.kt)("li",{parentName:"ul"},"Ta c\xf3 th\u1ec3 chia v\xf2ng \u0111\u1eddi t\u1ed5ng th\u1ec3 th\xe0nh 3 giai \u0111o\u1ea1n: initializing (kh\u1edfi t\u1ea1o), running (ch\u1ea1y) v\xe0 terminating (k\u1ebft th\xfac). S\u1eed d\u1ee5ng v\xf2ng \u0111\u1eddi n\xe0y, ta c\xf3 th\u1ec3 th\u1ef1c hi\u1ec7n l\u1eadp k\u1ebf ho\u1ea1ch kh\u1edfi t\u1ea1o module v\xe0 c\xe1c service m\u1ed9t c\xe1ch ph\xf9 h\u1ee3p, qu\u1ea3n l\xfd c\xe1c k\u1ebft n\u1ed1i \u0111ang ho\u1ea1t \u0111\u1ed9ng v\xe0 ng\u1eaft \u1ee9ng d\u1ee5ng m\u1ed9t c\xe1ch ph\xf9 h\u1ee3p.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"1718291885188",src:n(6882).Z,width:"970",height:"820"})),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Lifecycle hook"),(0,a.kt)("th",{parentName:"tr",align:null},"M\xf4 t\u1ea3"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"onModuleInit()"),(0,a.kt)("td",{parentName:"tr",align:null},"\u0110\u01b0\u1ee3c g\u1ecdi\xa0M\u1ed8T L\u1ea6N\xa0sau khi m\u1ed9t module \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"onApplicationBootstrap()"),(0,a.kt)("td",{parentName:"tr",align:null},"\u0110\u01b0\u1ee3c g\u1ecdi M\u1ed8T L\u1ea6N sau khi t\u1ea5t c\u1ea3 c\xe1c module \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o xong v\xe0 tr\u01b0\u1edbc khi l\u1eafng nghe k\u1ebft n\u1ed1i (",(0,a.kt)("strong",{parentName:"td"},"app.listen()"),").\xa0Th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 th\u1ef1c hi\u1ec7n c\xe1c t\xe1c v\u1ee5 sau khi \u1ee9ng d\u1ee5ng \u0111\xe3 s\u1eb5n s\xe0ng, nh\u01b0 \u0111\u0103ng k\xfd c\xe1c l\u1ecbch tr\xecnh, kh\u1edfi t\u1ea1o cache, v.v.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"onModuleDestroy()"),(0,a.kt)("td",{parentName:"tr",align:null},"\u0110\u01b0\u1ee3c g\u1ecdi khi m\u1ed9t module s\u1eafp b\u1ecb h\u1ee7y. Th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 th\u1ef1c hi\u1ec7n c\xe1c t\xe1c v\u1ee5 d\u1ecdn d\u1eb9p, nh\u01b0 gi\u1ea3i ph\xf3ng t\xe0i nguy\xean, h\u1ee7y \u0111\u0103ng k\xfd c\xe1c d\u1ecbch v\u1ee5, v.v.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"beforeApplicationShutdown()"),(0,a.kt)("td",{parentName:"tr",align:null},"\u0110\u01b0\u1ee3c g\u1ecdi sau khi",(0,a.kt)("strong",{parentName:"td"},"onModuleDestroy()")," th\u1ef1c thi xong (b\u1ea5t k\u1ec3 l\xe0 resolved hay rejected). Sau \u0111\xf3, t\u1ea5t c\u1ea3 c\xe1c k\u1ebft n\u1ed1i s\u1ebd \u0111\u01b0\u1ee3c \u0111\xf3ng l\u1ea1i (",(0,a.kt)("strong",{parentName:"td"},"app.close()")," \u0111\u01b0\u1ee3c g\u1ecdi)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"onApplicationShutdown()"),(0,a.kt)("td",{parentName:"tr",align:null},"\u0110\u01b0\u1ee3c g\u1ecdi sau khi t\u1ea5t c\u1ea3 k\u1ebft n\u1ed1i \u0111\u01b0\u1ee3c \u0111\xf3ng (",(0,a.kt)("strong",{parentName:"td"},"app.close()")," \u0111\u01b0\u1ee3c resolved)")))),(0,a.kt)("h2",{id:"v\xed-d\u1ee5"},"V\xed d\u1ee5"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Sau \u0111\xe2y l\xe0 m\u1ed9t v\xed d\u1ee5 v\u1edbi ",(0,a.kt)("strong",{parentName:"li"},"onModuleInit()"),":")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'import { Injectable, OnModuleInit } from "@nestjs/common";\n\n@Injectable()\nexport class UsersService implements OnModuleInit {\n  onModuleInit() {\n    console.log(`The module has been initialized.`);\n  }\n}\n')))}g.isMDXComponent=!0},6882:(t,e,n)=>{n.d(e,{Z:()=>r});const r=n.p+"assets/images/1718291885188-ac48ba7c0fda5ddc032c201fdb58ad43.png"}}]);